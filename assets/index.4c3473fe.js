import{d as F,r as v,m as y,R as B,n as E,a8 as M,o as r,c as a,C as x,ak as T,al as A,i as N,a3 as R,a as i,w as s,a7 as u,H as p,g as d,F as U}from"./index.54492493.js";import{E as V}from"./message.0b764d15.js";import"./index.d4a0575f.js";import"./types.d6921ee2.js";import"./index.46ad6237.js";import"./style.58fc1a9e.js";import"./typescript.72bf8adc.js";import"./index.c34b986f.js";const I=F({__name:"CountDownUp",props:{duration:null,countup:{type:Boolean}},emits:["finish"],setup(m,{emit:_}){const e=m,c=v(0),l=y(()=>k(c.value));B(()=>{c.value=e.duration});let t=null,o=-1;const g=n=>e.countup?e.duration-o+n:e.duration+o-n,k=n=>{const w=Math.floor(n/36e5),C=Math.floor(n%36e5/6e4),D=Math.floor(n%6e4/1e3);return{hours:w,minutes:C,seconds:D}},h=()=>{const n=g(performance.now());if(n<=0&&!e.countup){c.value=0,f(),_("finish",0);return}c.value=n,t=window.setTimeout(()=>{h()},1e3)},f=()=>{t!==null&&(window.clearTimeout(t),t=null)};return E(()=>{B(()=>{f(),!(!e.duration&&!e.countup)&&(o=performance.now(),h())})}),M(()=>{f()}),(n,w)=>(r(),a("div",null,[x(n.$slots,"default",T(A(N(l))))]))}}),P=d("h3",null,"\u5012\u8BA1\u65F6",-1),S={key:0},$={key:1},z=d("h3",null,"\u6B63\u8BA1\u65F6",-1),H={key:0},q={key:1},Z=F({__name:"index",setup(m){const _=()=>{V.error("\u5012\u8BA1\u65F6\u7ED3\u675F")};return(e,c)=>{const l=I,t=R;return r(),a(U,null,[i(t,null,{header:s(()=>[P]),default:s(()=>[i(l,{duration:7e4,onFinish:_},{default:s(o=>[o.hours?(r(),a("span",S,u(o.hours)+"\u65F6",1)):p("",!0),o.minutes||o.hours?(r(),a("span",$,u(o.minutes)+"\u5206",1)):p("",!0),d("span",null,u(o.seconds)+"\u79D2",1)]),_:1})]),_:1}),i(t,null,{header:s(()=>[z]),default:s(()=>[i(l,{duration:0,countup:""},{default:s(o=>[o.hours?(r(),a("span",H,u(o.hours)+"\u65F6",1)):p("",!0),o.minutes||o.hours?(r(),a("span",q,u(o.minutes)+"\u5206",1)):p("",!0),d("span",null,u(o.seconds)+"\u79D2",1)]),_:1})]),_:1})],64)}}});export{Z as default};
