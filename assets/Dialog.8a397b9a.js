import{ap as G,n as Q,X as Z,a8 as x,d as L,j as U,m as w,o as C,c as Y,g as _,C as p,G as y,i as e,a7 as K,a as D,w as u,D as S,E as ee,H as z,I as O,J as q,y as oe,B as se,r as N,K as te,a9 as ae,P as le,at as W,aa as ne,ab as re,au as ie,M as de,b as ce,as as ue}from"./index.45dae07d.js";import{d as me,a as fe,b as pe,c as ge,u as ve,e as he,E as be}from"./overlay.079e7f01.js";import{F as ye,E as Ce,_ as Ee}from"./SvgIcon.8513afcc.js";import{E as ke,C as $e}from"./index.e8f8bb63.js";import{u as we}from"./index.4d9c5243.js";import{a as j}from"./style.886d0ddf.js";import{u as H}from"./button.7369ceb3.js";const De=(...r)=>n=>{r.forEach(a=>{G(a)?a(n):a.value=n})},J=Symbol("dialogInjectionKey"),Le=(r,n,a)=>{let c={offsetX:0,offsetY:0};const l=s=>{const d=s.clientX,E=s.clientY,{offsetX:v,offsetY:h}=c,t=r.value.getBoundingClientRect(),b=t.left,k=t.top,T=t.width,A=t.height,F=document.documentElement.clientWidth,M=document.documentElement.clientHeight,B=-b+v,V=-k+h,P=F-b-T+v,X=M-k-A+h,I=R=>{const o=Math.min(Math.max(v+R.clientX-d,B),P),f=Math.min(Math.max(h+R.clientY-E,V),X);c={offsetX:o,offsetY:f},r.value.style.transform=`translate(${j(o)}, ${j(f)})`},m=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",m)},i=()=>{n.value&&r.value&&n.value.addEventListener("mousedown",l)},g=()=>{n.value&&r.value&&n.value.removeEventListener("mousedown",l)};Q(()=>{Z(()=>{a.value?i():g()})}),x(()=>{g()})},Me=["aria-label"],Ie=["id"],Re=L({name:"ElDialogContent"}),_e=L({...Re,props:me,emits:fe,setup(r){const n=r,{t:a}=we(),{Close:c}=$e,{dialogRef:l,headerRef:i,bodyId:g,ns:s,style:d}=U(J),{focusTrapRef:E}=U(ye),v=De(E,l),h=w(()=>n.draggable);return Le(l,i,h),(t,b)=>(C(),Y("div",{ref:e(v),class:y([e(s).b(),e(s).is("fullscreen",t.fullscreen),e(s).is("draggable",e(h)),e(s).is("align-center",t.alignCenter),{[e(s).m("center")]:t.center},t.customClass]),style:O(e(d)),tabindex:"-1"},[_("header",{ref_key:"headerRef",ref:i,class:y(e(s).e("header"))},[p(t.$slots,"header",{},()=>[_("span",{role:"heading",class:y(e(s).e("title"))},K(t.title),3)]),t.showClose?(C(),Y("button",{key:0,"aria-label":e(a)("el.dialog.close"),class:y(e(s).e("headerbtn")),type:"button",onClick:b[0]||(b[0]=k=>t.$emit("close"))},[D(e(ke),{class:y(e(s).e("close"))},{default:u(()=>[(C(),S(ee(t.closeIcon||e(c))))]),_:1},8,["class"])],10,Me)):z("v-if",!0)],2),_("div",{id:e(g),class:y(e(s).e("body"))},[p(t.$slots,"default")],10,Ie),t.$slots.footer?(C(),Y("footer",{key:0,class:y(e(s).e("footer"))},[p(t.$slots,"footer")],2)):z("v-if",!0)],6))}});var Se=q(_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Te=["aria-label","aria-labelledby","aria-describedby"],Ae=L({name:"ElDialog",inheritAttrs:!1}),Fe=L({...Ae,props:pe,emits:ge,setup(r,{expose:n}){const a=r,c=oe();H({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},w(()=>!!c.title)),H({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},w(()=>!!a.customClass));const l=se("dialog"),i=N(),g=N(),s=N(),{visible:d,titleId:E,bodyId:v,style:h,overlayDialogStyle:t,rendered:b,zIndex:k,afterEnter:T,afterLeave:A,beforeLeave:F,handleClose:M,onModalClick:B,onOpenAutoFocus:V,onCloseAutoFocus:P,onCloseRequested:X,onFocusoutPrevented:I}=ve(a,i);te(J,{dialogRef:i,headerRef:g,bodyId:v,ns:l,rendered:b,style:h});const m=he(B),R=w(()=>a.draggable&&!a.fullscreen);return n({visible:d,dialogContentRef:s}),(o,f)=>(C(),S(ie,{to:"body",disabled:!o.appendToBody},[D(re,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(A),onBeforeLeave:e(F),persisted:""},{default:u(()=>[ae(D(e(be),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(k)},{default:u(()=>[_("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(E),"aria-describedby":e(v),class:y(`${e(l).namespace.value}-overlay-dialog`),style:O(e(t)),onClick:f[0]||(f[0]=(...$)=>e(m).onClick&&e(m).onClick(...$)),onMousedown:f[1]||(f[1]=(...$)=>e(m).onMousedown&&e(m).onMousedown(...$)),onMouseup:f[2]||(f[2]=(...$)=>e(m).onMouseup&&e(m).onMouseup(...$))},[D(e(Ce),{loop:"",trapped:e(d),"focus-start-el":"container",onFocusAfterTrapped:e(V),onFocusAfterReleased:e(P),onFocusoutPrevented:e(I),onReleaseRequested:e(X)},{default:u(()=>[e(b)?(C(),S(Se,le({key:0,ref_key:"dialogContentRef",ref:s},o.$attrs,{"custom-class":o.customClass,center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(R),fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,onClose:e(M)}),W({header:u(()=>[o.$slots.title?p(o.$slots,"title",{key:1}):p(o.$slots,"header",{key:0,close:e(M),titleId:e(E),titleClass:e(l).e("title")})]),default:u(()=>[p(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:u(()=>[p(o.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):z("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Te)]),_:3},8,["mask","overlay-class","z-index"]),[[ne,e(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Be=q(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Ve=de(Be);const He=L({__name:"Dialog",props:{modelValue:{type:Boolean},title:null},emits:["update:modelValue","close"],setup(r,{emit:n}){const a=r,c=w({get(){return a.modelValue},set(l){n("update:modelValue",l)}});return(l,i)=>{const g=Ee,s=Ve;return C(),S(s,{modelValue:e(c),"onUpdate:modelValue":i[0]||(i[0]=d=>ue(c)?c.value=d:null),"custom-class":"c-dialog","show-close":!1,width:"720px",onClosed:i[1]||(i[1]=d=>n("close"))},W({header:u(({close:d})=>[ce(K(a.title)+" ",1),D(g,{name:"close",size:"22px",class:"el-dialog-close",onClick:d},null,8,["onClick"])]),default:u(()=>[p(l.$slots,"default")]),_:2},[l.$slots.footer?{name:"footer",fn:u(()=>[p(l.$slots,"footer")]),key:"0"}:void 0]),1032,["modelValue"])}}});export{He as _};
